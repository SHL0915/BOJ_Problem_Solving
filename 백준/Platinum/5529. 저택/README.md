# [Platinum V] 저택 - 5529 

[문제 링크](https://www.acmicpc.net/problem/5529) 

### 성능 요약

메모리: 67224 KB, 시간: 516 ms

### 분류

데이크스트라, 그래프 이론, 그래프 탐색, 구현

### 문제 설명

<p>あなたは，ある大きな屋敷に迷い込んでしまった．この屋敷は正方形の部屋が東西南北に格子状に，東西方向に M 列，南北方向に N 行の合計 M  N 個並んだ構造をしている．西から x 列目 (1 ≤ x ≤ M)，南から y 行目 (1 ≤ y ≤ N) にある部屋を (x, y) で表す．</p>

<p>東西南北に隣り合う 2 部屋の間は，壁の中央にある扉により結ばれている．それぞれの扉は，閉じていて通行不可能な状態か，開いていて通行可能な状態のいずれかにある．扉が開いているとき，それらの部屋の中央間を移動するのに 1 分間かかる．また，いくつかの部屋の中央にはスイッチがあり，スイッチを1 分間押し続けると，屋敷内のすべての扉の開閉の状態が切り替わる．</p>

<p>今，東西に隣り合う 2 部屋を結ぶすべての扉は閉じていて，南北に隣り合う 2 部屋を結ぶすべての扉は開いている．あなたは今部屋 (1, 1) の中央にいて，部屋 (M, N) の中央まで最短時間で移動したい．</p>

<p>屋敷の大きさ M, N および，スイッチのある K 個の部屋の位置 (X<sub>1</sub>, Y<sub>1</sub>),(X<sub>2</sub>, Y<sub>2</sub>), ... , (X<sub>K</sub>, Y<sub>K</sub>) が与えられる．東西に隣り合う 2 部屋を結ぶすべての扉は閉じていて，南北に隣り合う 2 部屋を結ぶすべての扉は開いている状態から始めて，部屋 (1, 1) の中央から部屋 (M, N) の中央まで移動するのに最短で何分かかるかを求めるプログラムを作成せよ．ただし，部屋 (M, N) に辿り着くことができないときはそれを指摘せよ．</p>

### 입력 

 <p>標準入力から以下のデータを読み込め．</p>

<ul>
	<li>1 行目には，整数 M, N, K が空白を区切りとして書かれている．M は屋敷の東西方向の部屋の個数，N は屋敷の南北方向の部屋の個数，K はスイッチのある部屋の個数を表す．</li>
	<li>続く K 行のうちの i 行目 (1 ≤ i ≤ K) には，整数 X<sub>i</sub>, Y<sub>i</sub> が空白を区切りとして書かれている．これは，部屋 (X<sub>i</sub>, Y<sub>i</sub>) の中央にスイッチがあることを表す．K 個の組 (X<sub>1</sub>, Y<sub>1</sub>), (X<sub>2</sub>, Y<sub>2</sub>), ... , (X<sub>K</sub>, Y<sub>K</sub>) は互いに異なる．</li>
</ul>

### 출력 

 <p>標準出力に，移動に最短で何分かかるかを表す整数を 1 行で出力せよ．ただし，部屋 (M, N) に辿り着くことができないときは代わりに整数 1 を出力せよ．</p>

