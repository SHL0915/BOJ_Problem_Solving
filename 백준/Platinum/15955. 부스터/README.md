# [Platinum II] 부스터 - 15955 

[문제 링크](https://www.acmicpc.net/problem/15955) 

### 성능 요약

메모리: 151332 KB, 시간: 1428 ms

### 분류

자료 구조, 분리 집합, 오프라인 쿼리, 정렬

### 제출 일자

2023년 12월 8일 14:03:47

### 문제 설명

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/c2bada33-0a9b-4fe1-b28b-c6bb2ca7f25f/-/preview/"></p>

<p>최근 새로 출시되어 인기를 끌고 있는 카카오게임이 있다. 이 게임에서는 2차원 좌표 평면상에 <em>N</em>개의 체크포인트가 존재하며, 플레이어는 체크포인트를 오가면서 원하는 곳에 도달해야 하는 목표를 가진다.</p>

<p>플레이어가 조종하는 캐릭터는 최대 HP 제한 <em>X</em>를 가지며, 또한 부스터를 장착하고 있다. 이 캐릭터는 다음과 같은 두 가지 방법으로 이동할 수 있다.</p>

<ul>
	<li>걷기: 단순한 걷기 동작이다. 원하는 방향으로 걸어갈 수 있다. <em>d</em>만큼의 거리를 걸어갔을 때, 캐릭터의 HP는 <em>d</em>만큼 감소한다. HP가 0 미만이 될 경우 캐릭터는 죽게 된다.</li>
	<li>부스터 사용: 플레이어는 동 / 서 / 남 / 북 4가지 방향으로 부스터를 사용할 수 있다. (동: <em>x</em>좌표 증가, 서: <em>x</em>좌표 감소, 남: <em>y</em>좌표 감소, 북: <em>y</em>좌표 증가) 부스터를 활성화하면, 캐릭터는 HP를 소모하지 않고 원하는 방향으로 날아가게 된다. 이후 플레이어가 원하는 위치에서 부스터를 종료하면, 움직임이 멈추고 캐릭터가 그 자리에 서게 된다.</li>
</ul>

<p>부스터는 "방전"과 "충전"의 두 가지 상태를 가지며, 충전 상태에만 사용될 수 있다. 부스터를 종료하면, 부스터는 이동 거리에 상관없이 방전된다.</p>

<p>초기에, 플레이어의 HP는 <em>X</em>이며, 플레이어의 부스터는 방전되어 있다. 각각의 체크포인트에서 플레이어는 HP를 최대 한번 재충전할 수 있으며 (즉, 최대 HP인 <em>X</em>로 바꿀 수 있으며), 방전된 부스터를 최대 한번 재충전할 수 있다.</p>

<p>동현이는 이 게임의 개발자이며, 현재 게임의 세부 사항을 조정하고 있다. 다양한 스테이지의 개발을 위해서, 동현이는 다음과 같은 질의를 빠르게 처리해야 한다.</p>

<ul>
	<li>플레이어의 최대 HP 제한이 X일 때, 체크포인트 A에서 시작하여서 체크포인트 B로 이동할 수 있는 방법이 있는가?</li>
</ul>

<p>동현이를 도와, 각각의 질의를 처리하라.</p>

### 입력 

 <p>첫 번째 줄에 체크포인트의 수 <em>N</em>, 질의의 수 <em>Q</em>가 주어진다. (1 ≤ <em>N</em>, <em>Q</em> ≤ 250,000)</p>

<p>이후 <em>N</em>개의 줄에 체크포인트의 좌표를 나타내는 두 정수 <em>X<sub>i</sub></em>, <em>Y<sub>i</sub></em>가 주어진다. (<em>X<sub>i</sub></em>, <em>Y<sub>i</sub></em>) 위치에 <em>i</em>번 체크포인트가 있음을 뜻한다. 모든 체크포인트의 위치는 서로 다르다. (-10<sup>9</sup> ≤ <em>X<sub>i</sub></em>, <em>Y<sub>i</sub></em> ≤ 10<sup>9</sup>)</p>

<p>이후 <em>Q</em>개의 줄에 각각의 질의를 나타내는 세 정수 <em>A<sub>i</sub></em>, <em>B<sub>i</sub></em>, <em>X<sub>i</sub></em>가 주어진다. <em>A<sub>i</sub></em>번 체크포인트에서 <em>B<sub>i</sub></em>번 체크포인트로 최대 HP 제한 <em>X<sub>i</sub></em> 상태에서 움직일 수 있는지를 묻는 질의이다. (1 ≤ <em>A<sub>i</sub></em>, <em>B<sub>i</sub></em> ≤ <em>N</em>, 0 ≤ <em>X<sub>i</sub></em> ≤ 10<sup>9</sup>)</p>

### 출력 

 <p><em>Q</em>개의 줄에 각각의 질의의 결과를 <code>YES</code> 또는 <code>NO</code>로 순서대로 출력한다.</p>

