# [Platinum I] Distance Sum Maximization - 32120 

[문제 링크](https://www.acmicpc.net/problem/32120) 

### 성능 요약

메모리: 48460 KB, 시간: 428 ms

### 분류

자료 구조, 다이나믹 프로그래밍, 트리에서의 다이나믹 프로그래밍, 그래프 이론, 그래프 탐색, 최소 공통 조상, 희소 배열, 트리

### 제출 일자

2024년 8월 4일 17:35:49

### 문제 설명

<p>$N$개의 정점으로 이루어진 트리(사이클이 없는 무방향 연결 그래프)가 있다. 정점은 $1$번부터 $N$번까지 번호가 매겨져 있고, 간선은 $1$번부터 $(N-1)$번까지 번호가 매겨져 있다.</p>

<p>아래의 쿼리를 수행하는 프로그램을 작성하시오.</p>

<ul>
	<li>$u$ $v$: 정점 $x$($1\le x\le N$)에 대해, $\operatorname{dist}(x,u)$ + $\operatorname{dist}(x,v)$의 최댓값을 출력한다. ($1\le u,v\le N$)</li>
</ul>

<p>이때 $\operatorname{dist}(x,y)$는 정점 $x$에서 정점 $y$로 가는 최단경로 상의 간선 개수로 정의한다. 트리의 모든 정점 $x$에 대해 $\operatorname{dist}(x,x) =0$ 이다.</p>

### 입력 

 <p>첫째 줄에 트리의 정점 수 $N$가 주어진다. ($2\le N\le 300\, 000$)</p>

<p>다음 $(N-1)$개의 줄에는 트리의 정보가 주어진다. 이중 $i$번째 줄에는 $i$번 간선이 연결하는 두 정점 번호가 공백을 사이에 두고 주어진다.</p>

<p>다음 줄에 쿼리의 수 $Q$가 주어진다. ($2\le Q\le 300\, 000$)</p>

<p>다음 줄부터 $Q$개의 줄에는 쿼리의 정보가 한 줄에 하나씩 주어진다.</p>

### 출력 

 <p>$Q$개의 줄에 쿼리의 답을 순서대로 출력한다.</p>

